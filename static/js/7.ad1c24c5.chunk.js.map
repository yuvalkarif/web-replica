{"version":3,"sources":["services/firebase.js","Components/Header/photos/Karifgram.png","Components/DashPost/DashPost.styles.js","Components/Header/Header.styles.js","Components/Header/index.js","Components/DashPost/actions.js","Components/DashPost/add-comment.js","Components/Post/Post.styles.js","Components/Post/index.js"],"names":["doesUserNameExist","username","a","firebase","firestore","collection","where","get","result","docs","map","user","data","length","getUserByUserId","userId","item","docId","id","getUserByUsername","getSuggestions","following","limit","results","filter","profile","includes","updateLoggedInUserFollowing","loggedInUserDocId","profileId","isFollowingProfile","doc","update","FieldValue","arrayRemove","arrayUnion","updateFollowedUserFollowers","profileDocId","followers","getPhotos","userFollowedPhotos","photo","Promise","all","userLikedPhoto","likes","photosWithUserDetails","getPostsByUserId","getPhotoByPhotoId","photoId","getProfilePictureByName","displayName","profilePic","getLikedPhoto","getUserWithDocId","HeaderWrapper","styled","div","MiniPic","img","PostPic","HeaderTitle","PostWrapper","ActionWrapper","Heart","svg","props","toggleLiked","Comment","Likes","FooterWrapper","CommentsTitle","CommentsName","CommentsText","PostDate","AddCommentBox","CommentButton","button","comment","Wrapper","MiniLogo","Search","Navbar","Button","Header","useContext","FirebaseContext","UserContext","useState","setProfilePic","search","setSearch","useEffect","uid","getUserPic","to","ROUTES","src","Logo","alt","placeholder","value","onChange","target","style","textDecoration","onClick","auth","signOut","onKeyDown","event","key","height","width","circle","DashPostActions","totalLikes","handleFocus","likedPhoto","setToggleLiked","setLikes","handleToggleLiked","xmlns","fill","viewBox","stroke","tabIndex","className","strokeLinecap","strokeLinejoin","strokeWidth","d","AddComment","comments","setComments","commentInput","setComment","handleSubmitComment","preventDefault","method","onSubmit","autoComplete","type","name","ref","disabled","Content","Block","Description","DateWrapper","CommentsWrapper","SkeletonWrapper","TitleWrapper","Post","useParams","setPhoto","creator","setCreator","commentPhotos","setCommentPhotos","postComments","setPostComments","useRef","photoResult","userResult","commentPhotosArray","getPhotoPost","imageSrc","caption","i","count","current","focus","formatDistance","dateCreated","Date","toUpperCase"],"mappings":"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","file":"static/js/7.ad1c24c5.chunk.js","sourcesContent":["import { firebase, FieldValue } from \"../Lib/firebase\";\n\nexport async function doesUserNameExist(username) {\n  const result = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"username\", \"==\", username)\n    .get();\n\n  return result.docs.map((user) => user.data().length > 0);\n}\n\nexport async function getUserByUserId(userId) {\n  const result = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"userId\", \"==\", userId)\n    .get();\n  const user = result.docs.map((item) => ({\n    ...item.data(),\n    docId: item.id,\n  }));\n  return user;\n}\nexport async function getUserByUsername(username) {\n  const result = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"username\", \"==\", username)\n    .get();\n  const user = result.docs.map((item) => ({\n    ...item.data(),\n    docId: item.id,\n  }));\n  return user;\n}\n\nexport async function getSuggestions(userId, following) {\n  const results = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"userId\", \"!=\", userId)\n    .limit(10)\n    .get();\n\n  return results.docs\n    .map((user) => ({ ...user.data(), docId: user.id }))\n    .filter((profile) => profile.userId && !following.includes(profile.userId));\n}\n\nexport async function updateLoggedInUserFollowing(\n  loggedInUserDocId,\n  profileId,\n  isFollowingProfile\n) {\n  return firebase\n    .firestore()\n    .collection(\"users\")\n    .doc(loggedInUserDocId)\n    .update({\n      following: isFollowingProfile\n        ? FieldValue.arrayRemove(profileId)\n        : FieldValue.arrayUnion(profileId),\n    });\n}\nexport async function updateFollowedUserFollowers(\n  profileDocId,\n  loggedInUserDocId,\n  isFollowingProfile\n) {\n  return firebase\n    .firestore()\n    .collection(\"users\")\n    .doc(profileDocId)\n    .update({\n      followers: isFollowingProfile\n        ? FieldValue.arrayRemove(loggedInUserDocId)\n        : FieldValue.arrayUnion(loggedInUserDocId),\n    });\n}\n\nexport async function getPhotos(userId, following) {\n  const result = await firebase\n    .firestore()\n    .collection(\"photos\")\n    .where(\"userId\", \"in\", following)\n    .get();\n  const userFollowedPhotos = result.docs.map((photo) => ({\n    ...photo.data(),\n    docId: photo.id,\n  }));\n  const photosWithUserDetails = await Promise.all(\n    userFollowedPhotos.map(async (photo) => {\n      let userLikedPhoto = false;\n      if (photo.likes.includes(userId)) {\n        userLikedPhoto = true;\n      }\n      const user = await getUserByUserId(photo.userId);\n      const { username } = user[0];\n      return { username, ...photo, userLikedPhoto };\n    })\n  );\n  return photosWithUserDetails;\n}\n\nexport async function getPostsByUserId(userId) {\n  const result = await firebase\n    .firestore()\n    .collection(\"photos\")\n    .where(\"userId\", \"==\", userId)\n    .get();\n\n  return result.docs.map((photo) => photo.data());\n}\n\nexport async function getPhotoByPhotoId(photoId) {\n  const result = await firebase\n    .firestore()\n    .collection(\"photos\")\n    .where(\"photoId\", \"==\", photoId)\n    .get();\n\n  return result.docs.map((photo) => ({\n    ...photo.data(),\n    docId: photo.id,\n  }));\n}\n\nexport async function getProfilePictureByName(displayName) {\n  const [result] = await getUserByUsername(displayName);\n  return result.profilePic;\n}\n\nexport function getLikedPhoto(photo, userId) {\n  let userLikedPhoto = false;\n  if (photo.likes.includes(userId)) {\n    userLikedPhoto = true;\n  }\n  const newPhoto = { ...photo, userLikedPhoto: userLikedPhoto };\n\n  return newPhoto;\n}\n\nexport async function getUserWithDocId(userId) {\n  const result = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"userId\", \"==\", userId)\n    .get();\n\n  const [user] = result.docs.map((user) => ({\n    ...user.data(),\n    docId: user.id,\n  }));\n\n  return user;\n}\n","export default __webpack_public_path__ + \"static/media/Karifgram.33790cf2.png\";","import styled from \"styled-components\";\n\nexport const HeaderWrapper = styled.div`\n  width: 600px;\n\n  a {\n    text-decoration: none;\n    color: black;\n    display: flex;\n    flex-direction: row;\n    font-size: 0.65rem;\n    padding-block: 0.75rem;\n    padding-left: 0.5rem;\n  }\n`;\nexport const MiniPic = styled.img`\n  width: 25px;\n  border-radius: 100%;\n`;\nexport const PostPic = styled.img`\n  width: 600px;\n`;\nexport const HeaderTitle = styled.div`\n  margin-block: auto;\n  margin-left: 0.5rem;\n  font-weight: 500;\n  font-size: 0.725rem;\n`;\n\nexport const PostWrapper = styled.div`\n  border: 1px solid var(--lightColor);\n  margin-bottom: 3rem;\n`;\nexport const ActionWrapper = styled.div`\n  padding: 0.6rem;\n`;\n\nexport const Heart = styled.svg`\n  width: 2rem;\n  user-select: none;\n  cursor: pointer;\n  fill: ${(props) => (props.toggleLiked ? \"red\" : \"none\")};\n  stroke: ${(props) => (props.toggleLiked ? \"red\" : \"var(--darkColor);\")};\n  margin-right: 0.5rem;\n`;\nexport const Comment = styled.svg`\n  width: 2rem;\n  user-select: none;\n  cursor: pointer;\n  stroke: var(--darkColor);\n`;\n\nexport const Likes = styled.div`\n  font-size: 0.8rem;\n  padding-left: 0.2rem;\n  font-weight: 500;\n  color: var(--darkColor);\n`;\n\nexport const FooterWrapper = styled.div`\n  font-size: 0.8rem;\n  padding-left: 0.8rem;\n  font-weight: 400;\n  color: var(--darkColor);\n  span:first-child {\n    font-weight: 500;\n    margin-right: 0.5rem;\n  }\n`;\n\nexport const CommentsTitle = styled.div`\n  color: var(--mediumColor);\n  font-size: 0.8rem;\n  padding-left: 0.8rem;\n  margin-top: 0.35rem;\n  cursor: pointer;\n`;\nexport const CommentsName = styled.div`\n  display: flex;\n  margin-top: 0.35rem;\n  a {\n    font-weight: 500;\n\n    text-decoration: none;\n    color: var(--darkColor);\n    font-size: 0.8rem;\n    padding-left: 0.8rem;\n\n    cursor: pointer;\n  }\n`;\n\nexport const CommentsText = styled.div`\n  font-size: 0.8rem;\n  padding-left: 0.35rem;\n  font-weight: 400;\n  color: var(--darkColor);\n`;\n\nexport const PostDate = styled.div`\n  font-size: 0.65rem;\n  padding-left: 0.8rem;\n  font-weight: 400;\n  color: var(--mediumColor);\n  margin-block: 0.5rem;\n`;\n\nexport const AddCommentBox = styled.div`\n  border-top: 1px solid var(--lightColor);\n  background-color: white;\n\n  form {\n    display: flex;\n    justify-content: space-between;\n    padding-left: 0;\n\n    input {\n      border: none;\n      padding: 1.1rem 1rem;\n      width: 100%;\n      color: var(--darkColor);\n      outline: none;\n    }\n  }\n`;\n\nexport const CommentButton = styled.button`\n  border: none;\n  background: white;\n  font-weight: 600;\n  color: var(--blueColor);\n  padding-inline: 1rem;\n  cursor: pointer;\n  opacity: ${(props) => (props.comment ? \"1\" : \"0.25\")}; ;\n`;\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  width: 100%;\n  background-color: white;\n  margin: 0;\n  display: grid;\n  height: 3rem;\n  grid-auto-columns: 1fr;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-template-rows: 1fr;\n  gap: 0px 0px;\n  border-bottom: 1.5px solid var(--lightColor);\n\n  align-items: center;\n  a {\n    display: flex;\n  }\n`;\nexport const MiniLogo = styled.img`\n  height: 2rem;\n  margin-left: 1rem;\n  margin-top: 0.5rem;\n`;\n\nexport const Search = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.75rem;\n  input {\n    text-align: center;\n    color: var(--mediumColor);\n    background-color: var(--bgColor);\n    border: 1.5px solid var(--lightColor);\n    border-radius: 5px;\n  }\n`;\nexport const MiniPic = styled.img`\n  height: 2.25rem;\n  border-radius: 100%;\n  margin-right: 0.5rem;\n  :hover {\n    opacity: 80%;\n  }\n`;\n\nexport const Navbar = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nexport const Button = styled.button`\n  background-color: var(--blueColor);\n  color: var(--bgColor);\n  border: none;\n  border-radius: 4px;\n  font: inherit;\n  font-weight: 500;\n  padding: 0.5rem 1rem;\n  margin-right: 1rem;\n  cursor: pointer;\n  text-decoration: none;\n`;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport {\n  Search,\n  Wrapper,\n  Navbar,\n  MiniPic,\n  MiniLogo,\n  Button,\n} from \"./Header.styles\";\nimport Logo from \"./photos/Karifgram.png\";\nimport { Link } from \"react-router-dom\";\nimport FirebaseContext from \"../../Context/firebase\";\nimport UserContext from \"../../Context/user\";\nimport * as ROUTES from \"../../constants/routes\";\nimport { getUserByUserId } from \"../../services/firebase\";\nimport Skeleton from \"react-loading-skeleton\";\nexport const Header = () => {\n  const { firebase } = useContext(FirebaseContext);\n  const { user } = useContext(UserContext);\n  const [profilePic, setProfilePic] = useState();\n  const [search, setSearch] = useState(``);\n\n  useEffect(() => {\n    async function getUserPic() {\n      const result = await getUserByUserId(user.uid);\n\n      setProfilePic(result[0].profilePic);\n    }\n    if (user?.uid) {\n      getUserPic();\n    }\n  }, [user]);\n\n  return (\n    <Wrapper>\n      <Link to={ROUTES.DASHBOARD}>\n        <MiniLogo src={Logo} alt=\"\" />\n      </Link>\n      <Search>\n        <input\n          placeholder=\"Search\"\n          value={search}\n          onChange={({ target }) => setSearch(target.value)}\n        ></input>\n      </Search>\n      <Navbar>\n        {user ? (\n          <>\n            <Link to={ROUTES.DASHBOARD} style={{ textDecoration: \"none\" }}>\n              <Button\n                onClick={() => {\n                  firebase.auth().signOut();\n                }}\n                onKeyDown={(event) => {\n                  if (event.key === \"Enter\") {\n                    firebase.auth().signOut();\n                  }\n                }}\n              >\n                Sign Out\n              </Button>\n            </Link>\n            <Link to={`/web-replica/p/${user.displayName}`}>\n              {profilePic ? (\n                <MiniPic src={profilePic}></MiniPic>\n              ) : (\n                <Skeleton height={36} width={36} circle={true} />\n              )}\n            </Link>\n          </>\n        ) : (\n          <>\n            <Link to={ROUTES.LOGIN}>\n              <Button>Login</Button>\n            </Link>\n            <Link to={ROUTES.SIGNUP}>\n              <Button\n                onClick={() => {\n                  firebase.auth().signOut();\n                }}\n                onKeyDown={(event) => {\n                  if (event.key === \"Enter\") {\n                    firebase.auth().signOut();\n                  }\n                }}\n              >\n                Sign Up\n              </Button>\n            </Link>\n          </>\n        )}\n      </Navbar>\n    </Wrapper>\n  );\n};\n\nexport default Header;\n","import { useState, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FirebaseContext from \"../../Context/firebase\";\nimport UserContext from \"../../Context/user\";\nimport { ActionWrapper, Comment, Heart, Likes } from \"./DashPost.styles\";\n\nexport default function DashPostActions({\n  docId,\n  totalLikes,\n  handleFocus,\n  likedPhoto,\n}) {\n  const {\n    user: { uid: userId = \"\" },\n  } = useContext(UserContext);\n\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\n  const [likes, setLikes] = useState(totalLikes);\n  const { firebase, FieldValue } = useContext(FirebaseContext);\n\n  const handleToggleLiked = async () => {\n    setToggleLiked((toggleLiked) => !toggleLiked);\n\n    await firebase\n      .firestore()\n      .collection(\"photos\")\n      .doc(docId)\n      .update({\n        likes: toggleLiked\n          ? FieldValue.arrayRemove(userId)\n          : FieldValue.arrayUnion(userId),\n      });\n\n    setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1));\n  };\n  return (\n    <ActionWrapper>\n      <Heart\n        onClick={handleToggleLiked}\n        onKeyDown={(event) => {\n          if (event.key === \"Enter\") {\n            handleToggleLiked();\n          }\n        }}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n        tabIndex={0}\n        className={\"heart\"}\n        toggleLiked={toggleLiked}\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={1.5}\n          d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n        />\n      </Heart>\n      <Comment\n        onClick={handleFocus}\n        onKeyDown={(event) => {\n          if (event.key === \"Enter\") {\n            handleFocus();\n          }\n        }}\n        className={\"comment\"}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n        tabIndex={0}\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={1.5}\n          d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n        />\n      </Comment>\n      <Likes>{likes > 1 ? `${likes} likes` : `${likes} like`}</Likes>\n    </ActionWrapper>\n  );\n}\n\nDashPostActions.propTypes = {\n  docId: PropTypes.string.isRequired,\n  totalLikes: PropTypes.number.isRequired,\n  handleFocus: PropTypes.func.isRequired,\n  likedPhoto: PropTypes.bool.isRequired,\n};\n","import { useState, useContext } from \"react\";\n\nimport PropTypes from \"prop-types\";\nimport FirebaseContext from \"../../Context/firebase\";\nimport UserContext from \"../../Context/user\";\nimport { AddCommentBox, CommentButton } from \"./DashPost.styles\";\n\nexport default function AddComment({\n  docId,\n  comments,\n  setComments,\n  commentInput,\n}) {\n  const [comment, setComment] = useState(``);\n  const { firebase, FieldValue } = useContext(FirebaseContext);\n  const {\n    user: { displayName },\n  } = useContext(UserContext);\n\n  const handleSubmitComment = (event) => {\n    event.preventDefault();\n\n    setComments([{ displayName, comment }, ...comments]);\n    setComment(``);\n\n    return firebase\n      .firestore()\n      .collection(\"photos\")\n      .doc(docId)\n      .update({\n        comments: FieldValue.arrayUnion({ displayName, comment }),\n      });\n  };\n  return (\n    <AddCommentBox>\n      <form\n        method=\"POST\"\n        onSubmit={(event) =>\n          comment.length >= 1\n            ? handleSubmitComment(event)\n            : event.preventDefault()\n        }\n      >\n        <input\n          aria-label=\"Add a comment...\"\n          autoComplete=\"off\"\n          type=\"text\"\n          name=\"add-comment\"\n          placeholder=\"Add a comment\"\n          value={comment}\n          onChange={({ target }) => setComment(target.value)}\n          ref={commentInput}\n        />\n        <CommentButton\n          comment={comment}\n          type=\"button\"\n          disabled={comment.length < 1}\n          onClick={handleSubmitComment}\n        >\n          Post\n        </CommentButton>\n      </form>\n    </AddCommentBox>\n  );\n}\n\nAddComment.propTypes = {\n  docId: PropTypes.string.isRequired,\n  comments: PropTypes.array.isRequired,\n  setComments: PropTypes.func.isRequired,\n  commentInput: PropTypes.object.isRequired,\n};\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  display: flex;\n  margin: 0 auto;\n  width: 1080px;\n  border: 1.5px solid var(--lightColor);\n  background-color: white;\n  margin-top: 2rem;\n`;\n\nexport const Content = styled.div`\n  width: 100%;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr 60% 1fr 1fr;\n  gap: 0px 0px;\n`;\nexport const Block = styled.div`\n  display: flex;\n  text-align: center;\n  padding: 1rem;\n  flex-direction: column;\n`;\nexport const Header = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n  border-bottom: 1.5px solid var(--lightColor);\n  h1 {\n    margin-left: 1rem;\n    font-size: 0.85rem;\n    font-weight: 500;\n  }\n`;\n\nexport const MiniPic = styled.img`\n  width: 44px;\n  height: 44px;\n\n  overflow: hidden;\n  border-radius: 100%;\n`;\n\nexport const Description = styled.div`\n  display: flex;\n  align-items: flex-start;\n  border-bottom: 1.5px solid var(--lightColor);\n  text-align: center;\n  h1 {\n    margin-top: 0.75rem;\n    margin-left: 1rem;\n    font-size: 0.85rem;\n    font-weight: 500;\n    margin-right: 0.8rem;\n  }\n  div {\n    margin-top: 0.75rem;\n    font-size: 0.85rem;\n    font-weight: 400;\n  }\n`;\nexport const Utility = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  border-bottom: 1.5px solid var(--lightColor);\n  div {\n    margin-right: 1rem;\n  }\n`;\nexport const Buttons = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 1rem;\n`;\n\nexport const DateWrapper = styled.div`\n  color: var(--mediumColor);\n  margin-left: 0.75rem;\n  font-size: 0.85rem;\n  display: flex;\n  align-items: center;\n`;\nexport const Comment = styled.div`\n  padding: 1rem;\n  color: var(--mediumColor);\n`;\n\nexport const CommentsWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n\n  a {\n    text-decoration: none;\n    display: flex;\n    color: inherit;\n  }\n  div {\n    color: var(--darkColor);\n  }\n`;\nexport const SkeletonWrapper = styled.div`\n  span {\n    margin-block: 0.5rem;\n  }\n`;\n\nexport const TitleWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n\n  div {\n    font-weight: 400;\n    margin-left: 0.5rem;\n    color: var(--darkColor);\n  }\n`;\n","import React, { useEffect, useState, useRef, useContext } from \"react\";\n\nimport { useParams } from \"react-router\";\nimport {\n  Wrapper,\n  Content,\n  Header as PostHeader,\n  Description,\n  MiniPic,\n  Block,\n  CommentsWrapper,\n  SkeletonWrapper,\n  DateWrapper,\n  TitleWrapper,\n} from \"./Post.styles\";\nimport Header from \"../Header\";\nimport {\n  getLikedPhoto,\n  getPhotoByPhotoId,\n  getProfilePictureByName,\n  getUserByUserId,\n} from \"../../services/firebase\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { Link } from \"react-router-dom\";\nimport DashPostActions from \"../DashPost/actions\";\nimport { formatDistance } from \"date-fns\";\nimport AddComment from \"../DashPost/add-comment\";\nimport UserContext from \"../../Context/user\";\nconst Post = () => {\n  const { photoId } = useParams();\n  const [photo, setPhoto] = useState(null);\n  const [creator, setCreator] = useState(null);\n  const [commentPhotos, setCommentPhotos] = useState([]);\n  const [postComments, setPostComments] = useState([]);\n  const commentInput = useRef(null);\n  const handleFocus = () => commentInput.current.focus();\n\n  const { user } = useContext(UserContext);\n\n  useEffect(() => {\n    async function getPhotoPost() {\n      const [photoResult] = await getPhotoByPhotoId(photoId);\n      setPostComments(photoResult.comments);\n\n      const [userResult] = await getUserByUserId(photoResult.userId);\n      setCreator(userResult);\n\n      const commentPhotosArray = await Promise.all(\n        photoResult.comments.map(async (comment) => {\n          return await getProfilePictureByName(comment.displayName);\n        })\n      );\n      setCommentPhotos(commentPhotosArray);\n      setPhoto(getLikedPhoto(photoResult, user.uid));\n    }\n    if (photoId) getPhotoPost();\n  }, [photoId, user.uid]);\n\n  return (\n    <>\n      <Header />\n      <Wrapper>\n        {photo ? (\n          <img src={photo.imageSrc} alt=\"\" />\n        ) : (\n          <Skeleton width={600} height={600} />\n        )}\n        <Content>\n          <PostHeader>\n            {creator ? (\n              <Link to={`/web-replica/p/${creator.username}`}>\n                <MiniPic src={creator.profilePic} alt=\"\" />\n              </Link>\n            ) : (\n              <Skeleton width={44} height={44} circle={true} />\n            )}\n            <h1>\n              {creator && photo ? (\n                <TitleWrapper>\n                  <span>{creator.username}</span>\n                  <div>{photo.caption}</div>\n                </TitleWrapper>\n              ) : (\n                <Skeleton width={150} height={17} />\n              )}\n            </h1>\n          </PostHeader>\n          <Description>\n            <Block>\n              {photo && creator ? (\n                postComments.map((comment, i) => {\n                  return (\n                    <CommentsWrapper key={i}>\n                      <Link to={`/web-replica/p/${comment.displayName}`}>\n                        {commentPhotos ? (\n                          <MiniPic src={commentPhotos[i]} alt=\"\"></MiniPic>\n                        ) : (\n                          <Skeleton width={44} height={44} />\n                        )}\n                        <h1>{comment.displayName}</h1>\n                      </Link>\n                      <div>{comment.comment}</div>\n                    </CommentsWrapper>\n                  );\n                })\n              ) : (\n                <SkeletonWrapper>\n                  <Skeleton width={410} height={44} count={5} />\n                </SkeletonWrapper>\n              )}\n            </Block>\n          </Description>\n\n          {photo ? (\n            <DashPostActions\n              totalLikes={photo.likes.length}\n              docId={photo.docId}\n              likedPhoto={photo.userLikedPhoto}\n              handleFocus={handleFocus}\n            />\n          ) : null}\n          {photo ? (\n            <DateWrapper>\n              {formatDistance(photo.dateCreated, new Date()).toUpperCase()} AGO\n            </DateWrapper>\n          ) : (\n            <Skeleton />\n          )}\n          {photo ? (\n            <AddComment\n              docId={photo.docId}\n              comments={postComments}\n              commentInput={commentInput}\n              setComments={setPostComments}\n            />\n          ) : null}\n        </Content>\n      </Wrapper>\n    </>\n  );\n};\n\nexport default Post;\n"],"sourceRoot":""}