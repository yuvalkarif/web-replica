{"version":3,"sources":["services/firebase.js","Components/Header/photos/Karifgram.png","Components/DashPost/DashPost.styles.js","Components/Header/Header.styles.js","Components/Header/index.js","Components/DashPost/actions.js","Components/DashPost/add-comment.js","Components/Post/Post.styles.js","Components/Post/index.js"],"names":["doesUserNameExist","username","a","firebase","firestore","collection","where","get","result","docs","map","user","data","length","getUserByUserId","userId","item","docId","id","getUserByUsername","getSuggestions","following","limit","results","filter","profile","includes","updateLoggedInUserFollowing","loggedInUserDocId","profileId","isFollowingProfile","doc","update","FieldValue","arrayRemove","arrayUnion","updateFollowedUserFollowers","profileDocId","followers","getPhotos","userFollowedPhotos","photo","Promise","all","userLikedPhoto","likes","photosWithUserDetails","getPostsByUserId","getPhotoByPhotoId","photoId","getProfilePictureByName","displayName","profilePic","getLikedPhoto","getUserWithDocId","HeaderWrapper","styled","div","MiniPic","img","PostPic","HeaderTitle","PostWrapper","ActionWrapper","Heart","svg","props","toggleLiked","Comment","Likes","FooterWrapper","CommentsTitle","CommentsName","CommentsText","PostDate","AddCommentBox","CommentButton","button","comment","Wrapper","MiniLogo","Navbar","Button","Header","useContext","FirebaseContext","UserContext","useState","setProfilePic","useEffect","uid","getUserPic","to","ROUTES","src","Logo","alt","style","textDecoration","onClick","auth","signOut","onKeyDown","event","key","height","width","circle","DashPostActions","totalLikes","handleFocus","likedPhoto","setToggleLiked","setLikes","handleToggleLiked","xmlns","fill","viewBox","stroke","tabIndex","className","strokeLinecap","strokeLinejoin","strokeWidth","d","AddComment","comments","setComments","commentInput","setComment","handleSubmitComment","preventDefault","method","onSubmit","autoComplete","type","name","placeholder","value","onChange","target","ref","disabled","Content","Block","Description","DateWrapper","CommentsWrapper","SkeletonWrapper","TitleWrapper","Post","useParams","setPhoto","creator","setCreator","commentPhotos","setCommentPhotos","postComments","setPostComments","useRef","photoResult","userResult","commentPhotosArray","getPhotoPost","imageSrc","caption","i","count","current","focus","formatDistance","dateCreated","Date","toUpperCase"],"mappings":"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","file":"static/js/7.b0968144.chunk.js","sourcesContent":["import { firebase, FieldValue } from \"../Lib/firebase\";\n\nexport async function doesUserNameExist(username) {\n  const result = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"username\", \"==\", username)\n    .get();\n\n  return result.docs.map((user) => user.data().length > 0);\n}\n\nexport async function getUserByUserId(userId) {\n  const result = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"userId\", \"==\", userId)\n    .get();\n  const user = result.docs.map((item) => ({\n    ...item.data(),\n    docId: item.id,\n  }));\n  return user;\n}\nexport async function getUserByUsername(username) {\n  const result = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"username\", \"==\", username)\n    .get();\n  const user = result.docs.map((item) => ({\n    ...item.data(),\n    docId: item.id,\n  }));\n  return user;\n}\n\nexport async function getSuggestions(userId, following) {\n  const results = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"userId\", \"!=\", userId)\n    .limit(10)\n    .get();\n\n  return results.docs\n    .map((user) => ({ ...user.data(), docId: user.id }))\n    .filter((profile) => profile.userId && !following.includes(profile.userId));\n}\n\nexport async function updateLoggedInUserFollowing(\n  loggedInUserDocId,\n  profileId,\n  isFollowingProfile\n) {\n  return firebase\n    .firestore()\n    .collection(\"users\")\n    .doc(loggedInUserDocId)\n    .update({\n      following: isFollowingProfile\n        ? FieldValue.arrayRemove(profileId)\n        : FieldValue.arrayUnion(profileId),\n    });\n}\nexport async function updateFollowedUserFollowers(\n  profileDocId,\n  loggedInUserDocId,\n  isFollowingProfile\n) {\n  return firebase\n    .firestore()\n    .collection(\"users\")\n    .doc(profileDocId)\n    .update({\n      followers: isFollowingProfile\n        ? FieldValue.arrayRemove(loggedInUserDocId)\n        : FieldValue.arrayUnion(loggedInUserDocId),\n    });\n}\n\nexport async function getPhotos(userId, following) {\n  const result = await firebase\n    .firestore()\n    .collection(\"photos\")\n    .where(\"userId\", \"in\", following)\n    .get();\n  const userFollowedPhotos = result.docs.map((photo) => ({\n    ...photo.data(),\n    docId: photo.id,\n  }));\n  const photosWithUserDetails = await Promise.all(\n    userFollowedPhotos.map(async (photo) => {\n      let userLikedPhoto = false;\n      if (photo.likes.includes(userId)) {\n        userLikedPhoto = true;\n      }\n      const user = await getUserByUserId(photo.userId);\n      const { username } = user[0];\n      return { username, ...photo, userLikedPhoto };\n    })\n  );\n  return photosWithUserDetails;\n}\n\nexport async function getPostsByUserId(userId) {\n  const result = await firebase\n    .firestore()\n    .collection(\"photos\")\n    .where(\"userId\", \"==\", userId)\n    .get();\n\n  return result.docs.map((photo) => photo.data());\n}\n\nexport async function getPhotoByPhotoId(photoId) {\n  const result = await firebase\n    .firestore()\n    .collection(\"photos\")\n    .where(\"photoId\", \"==\", photoId)\n    .get();\n\n  return result.docs.map((photo) => ({\n    ...photo.data(),\n    docId: photo.id,\n  }));\n}\n\nexport async function getProfilePictureByName(displayName) {\n  const [result] = await getUserByUsername(displayName);\n  return result.profilePic;\n}\n\nexport function getLikedPhoto(photo, userId) {\n  let userLikedPhoto = false;\n  if (photo.likes.includes(userId)) {\n    userLikedPhoto = true;\n  }\n  const newPhoto = { ...photo, userLikedPhoto: userLikedPhoto };\n\n  return newPhoto;\n}\n\nexport async function getUserWithDocId(userId) {\n  const result = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"userId\", \"==\", userId)\n    .get();\n\n  const [user] = result.docs.map((user) => ({\n    ...user.data(),\n    docId: user.id,\n  }));\n\n  return user;\n}\n","export default __webpack_public_path__ + \"static/media/Karifgram.33790cf2.png\";","import styled from \"styled-components\";\n\nexport const HeaderWrapper = styled.div`\n  a {\n    text-decoration: none;\n    color: black;\n    display: flex;\n    flex-direction: row;\n    font-size: 0.65rem;\n    padding-block: 0.75rem;\n    padding-left: 0.5rem;\n  }\n`;\nexport const MiniPic = styled.img`\n  width: 25px;\n\n  border-radius: 100%;\n`;\nexport const PostPic = styled.img`\n  max-width: 600px;\n  width: 100%;\n`;\nexport const HeaderTitle = styled.div`\n  margin-block: auto;\n  margin-left: 0.5rem;\n  font-weight: 500;\n  font-size: 0.725rem;\n`;\n\nexport const PostWrapper = styled.div`\n  border: 1px solid var(--lightColor);\n  margin-bottom: 3rem;\n`;\nexport const ActionWrapper = styled.div`\n  padding: 0.6rem;\n`;\n\nexport const Heart = styled.svg`\n  max-width: 2rem;\n  user-select: none;\n  cursor: pointer;\n  fill: ${(props) => (props.toggleLiked ? \"red\" : \"none\")};\n  stroke: ${(props) => (props.toggleLiked ? \"red\" : \"var(--darkColor);\")};\n  margin-right: 0.5rem;\n`;\nexport const Comment = styled.svg`\n  max-width: 2rem;\n  user-select: none;\n  cursor: pointer;\n  stroke: var(--darkColor);\n`;\n\nexport const Likes = styled.div`\n  font-size: 0.8rem;\n  padding-left: 0.2rem;\n  font-weight: 500;\n  color: var(--darkColor);\n`;\n\nexport const FooterWrapper = styled.div`\n  font-size: 0.8rem;\n  padding-left: 0.8rem;\n  font-weight: 400;\n  color: var(--darkColor);\n  span:first-child {\n    font-weight: 500;\n    margin-right: 0.5rem;\n  }\n`;\n\nexport const CommentsTitle = styled.div`\n  color: var(--mediumColor);\n  font-size: 0.8rem;\n  padding-left: 0.8rem;\n  margin-top: 0.35rem;\n  cursor: pointer;\n`;\nexport const CommentsName = styled.div`\n  display: flex;\n  margin-top: 0.35rem;\n  a {\n    font-weight: 500;\n\n    text-decoration: none;\n    color: var(--darkColor);\n    font-size: 0.8rem;\n    padding-left: 0.8rem;\n\n    cursor: pointer;\n  }\n`;\n\nexport const CommentsText = styled.div`\n  font-size: 0.8rem;\n  padding-left: 0.35rem;\n  font-weight: 400;\n  color: var(--darkColor);\n`;\n\nexport const PostDate = styled.div`\n  font-size: 0.65rem;\n  padding-left: 0.8rem;\n  font-weight: 400;\n  color: var(--mediumColor);\n  margin-block: 0.5rem;\n`;\n\nexport const AddCommentBox = styled.div`\n  border-top: 1px solid var(--lightColor);\n  background-color: white;\n\n  form {\n    display: flex;\n    justify-content: space-between;\n    padding-left: 0;\n\n    input {\n      border: none;\n      padding: 1.1rem 1rem;\n      width: 100%;\n      color: var(--darkColor);\n      outline: none;\n    }\n  }\n`;\n\nexport const CommentButton = styled.button`\n  border: none;\n  background: white;\n  font-weight: 600;\n  color: var(--blueColor);\n  padding-inline: 1rem;\n  cursor: pointer;\n  opacity: ${(props) => (props.comment ? \"1\" : \"0.25\")}; ;\n`;\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  background-color: white;\n  display: flex;\n  justify-content: space-between;\n  min-height: 3rem;\n  align-items: center;\n  a {\n    display: flex;\n  }\n`;\nexport const MiniLogo = styled.img`\n  height: 2rem;\n  margin-left: 1rem;\n  margin-top: 0.5rem;\n`;\n\nexport const MiniPic = styled.img`\n  height: 2.25rem;\n  border-radius: 100%;\n  margin-right: 0.5rem;\n  :hover {\n    opacity: 80%;\n  }\n`;\n\nexport const Navbar = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nexport const Button = styled.button`\n  background-color: var(--blueColor);\n  color: var(--bgColor);\n  border: none;\n  border-radius: 4px;\n  font: inherit;\n  font-weight: 500;\n  padding: 0.5rem 1rem;\n  margin-right: 1rem;\n  cursor: pointer;\n  text-decoration: none;\n`;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { Wrapper, Navbar, MiniPic, MiniLogo, Button } from \"./Header.styles\";\nimport Logo from \"./photos/Karifgram.png\";\nimport { Link } from \"react-router-dom\";\nimport FirebaseContext from \"../../Context/firebase\";\nimport UserContext from \"../../Context/user\";\nimport * as ROUTES from \"../../constants/routes\";\nimport { getUserByUserId } from \"../../services/firebase\";\nimport Skeleton from \"react-loading-skeleton\";\nexport const Header = () => {\n  const { firebase } = useContext(FirebaseContext);\n  const { user } = useContext(UserContext);\n  const [profilePic, setProfilePic] = useState();\n\n  useEffect(() => {\n    async function getUserPic() {\n      const result = await getUserByUserId(user.uid);\n\n      setProfilePic(result[0].profilePic);\n    }\n    if (user?.uid) {\n      getUserPic();\n    }\n  }, [user]);\n\n  return (\n    <Wrapper>\n      <Link to={ROUTES.DASHBOARD}>\n        <MiniLogo src={Logo} alt=\"\" />\n      </Link>\n\n      <Navbar>\n        {user ? (\n          <>\n            <Link to={ROUTES.DASHBOARD} style={{ textDecoration: \"none\" }}>\n              <Button\n                onClick={() => {\n                  firebase.auth().signOut();\n                }}\n                onKeyDown={(event) => {\n                  if (event.key === \"Enter\") {\n                    firebase.auth().signOut();\n                  }\n                }}\n              >\n                Sign Out\n              </Button>\n            </Link>\n            <Link to={`/p/${user.displayName}`}>\n              {profilePic ? (\n                <MiniPic src={profilePic}></MiniPic>\n              ) : (\n                <Skeleton height={36} width={36} circle={true} />\n              )}\n            </Link>\n          </>\n        ) : (\n          <>\n            <Link to={ROUTES.LOGIN}>\n              <Button>Login</Button>\n            </Link>\n            <Link to={ROUTES.SIGNUP}>\n              <Button\n                onClick={() => {\n                  firebase.auth().signOut();\n                }}\n                onKeyDown={(event) => {\n                  if (event.key === \"Enter\") {\n                    firebase.auth().signOut();\n                  }\n                }}\n              >\n                Sign Up\n              </Button>\n            </Link>\n          </>\n        )}\n      </Navbar>\n    </Wrapper>\n  );\n};\n\nexport default Header;\n","import { useState, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FirebaseContext from \"../../Context/firebase\";\nimport UserContext from \"../../Context/user\";\nimport { ActionWrapper, Comment, Heart, Likes } from \"./DashPost.styles\";\n\nexport default function DashPostActions({\n  docId,\n  totalLikes,\n  handleFocus,\n  likedPhoto,\n}) {\n  const {\n    user: { uid: userId = \"\" },\n  } = useContext(UserContext);\n\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\n  const [likes, setLikes] = useState(totalLikes);\n  const { firebase, FieldValue } = useContext(FirebaseContext);\n\n  const handleToggleLiked = async () => {\n    setToggleLiked((toggleLiked) => !toggleLiked);\n\n    await firebase\n      .firestore()\n      .collection(\"photos\")\n      .doc(docId)\n      .update({\n        likes: toggleLiked\n          ? FieldValue.arrayRemove(userId)\n          : FieldValue.arrayUnion(userId),\n      });\n\n    setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1));\n  };\n  return (\n    <ActionWrapper>\n      <Heart\n        onClick={handleToggleLiked}\n        onKeyDown={(event) => {\n          if (event.key === \"Enter\") {\n            handleToggleLiked();\n          }\n        }}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n        tabIndex={0}\n        className={\"heart\"}\n        toggleLiked={toggleLiked}\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={1.5}\n          d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n        />\n      </Heart>\n      <Comment\n        onClick={handleFocus}\n        onKeyDown={(event) => {\n          if (event.key === \"Enter\") {\n            handleFocus();\n          }\n        }}\n        className={\"comment\"}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n        tabIndex={0}\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={1.5}\n          d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n        />\n      </Comment>\n      <Likes>{likes > 1 ? `${likes} likes` : `${likes} like`}</Likes>\n    </ActionWrapper>\n  );\n}\n\nDashPostActions.propTypes = {\n  docId: PropTypes.string.isRequired,\n  totalLikes: PropTypes.number.isRequired,\n  handleFocus: PropTypes.func.isRequired,\n  likedPhoto: PropTypes.bool.isRequired,\n};\n","import { useState, useContext } from \"react\";\n\nimport PropTypes from \"prop-types\";\nimport FirebaseContext from \"../../Context/firebase\";\nimport UserContext from \"../../Context/user\";\nimport { AddCommentBox, CommentButton } from \"./DashPost.styles\";\n\nexport default function AddComment({\n  docId,\n  comments,\n  setComments,\n  commentInput,\n}) {\n  const [comment, setComment] = useState(``);\n  const { firebase, FieldValue } = useContext(FirebaseContext);\n  const {\n    user: { displayName },\n  } = useContext(UserContext);\n\n  const handleSubmitComment = (event) => {\n    event.preventDefault();\n\n    setComments([{ displayName, comment }, ...comments]);\n    setComment(``);\n\n    return firebase\n      .firestore()\n      .collection(\"photos\")\n      .doc(docId)\n      .update({\n        comments: FieldValue.arrayUnion({ displayName, comment }),\n      });\n  };\n  return (\n    <AddCommentBox>\n      <form\n        method=\"POST\"\n        onSubmit={(event) =>\n          comment.length >= 1\n            ? handleSubmitComment(event)\n            : event.preventDefault()\n        }\n      >\n        <input\n          aria-label=\"Add a comment...\"\n          autoComplete=\"off\"\n          type=\"text\"\n          name=\"add-comment\"\n          placeholder=\"Add a comment\"\n          value={comment}\n          onChange={({ target }) => setComment(target.value)}\n          ref={commentInput}\n        />\n        <CommentButton\n          comment={comment}\n          type=\"button\"\n          disabled={comment.length < 1}\n          onClick={handleSubmitComment}\n        >\n          Post\n        </CommentButton>\n      </form>\n    </AddCommentBox>\n  );\n}\n\nAddComment.propTypes = {\n  docId: PropTypes.string.isRequired,\n  comments: PropTypes.array.isRequired,\n  setComments: PropTypes.func.isRequired,\n  commentInput: PropTypes.object.isRequired,\n};\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  display: flex;\n  margin: 0 auto;\n  max-width: 1080px;\n  width: 90%;\n  border: 1.5px solid var(--lightColor);\n  background-color: white;\n  margin-top: 2rem;\n  @media (max-width: 767px) {\n    flex-direction: column;\n  }\n`;\n\nexport const Content = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\nexport const Block = styled.div`\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  padding: 0 1rem;\n  flex-direction: column;\n  margin: 1rem 0;\n`;\nexport const Header = styled.div`\n  display: flex;\n  align-items: center;\n\n  padding: 1rem;\n  border-bottom: 1.5px solid var(--lightColor);\n  h1 {\n    margin-left: 1rem;\n    font-size: 0.85rem;\n    font-weight: 500;\n  }\n`;\n\nexport const MiniPic = styled.img`\n  max-width: 44px;\n  max-height: 44px;\n\n  overflow: hidden;\n  border-radius: 100%;\n`;\n\nexport const Description = styled.div`\n  display: flex;\n  align-items: center;\n\n  border-bottom: 1.5px solid var(--lightColor);\n\n  h1 {\n    margin-top: 0.75rem;\n    margin-left: 1rem;\n    font-size: 0.85rem;\n    font-weight: 500;\n    margin-right: 0.8rem;\n  }\n  div {\n    font-size: 0.85rem;\n    font-weight: 400;\n  }\n`;\nexport const Utility = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  border-bottom: 1.5px solid var(--lightColor);\n  div {\n    margin-right: 1rem;\n  }\n`;\nexport const Buttons = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 1rem;\n`;\n\nexport const DateWrapper = styled.div`\n  color: var(--mediumColor);\n  margin-left: 0.75rem;\n  font-size: 0.85rem;\n`;\nexport const Comment = styled.div`\n  padding: 1rem;\n  color: var(--mediumColor);\n`;\n\nexport const CommentsWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-content: center;\n  margin: 0.5em 0;\n  a {\n    text-decoration: none;\n    display: flex;\n    color: inherit;\n  }\n  div {\n    color: var(--darkColor);\n    padding-top: 1em;\n  }\n`;\nexport const SkeletonWrapper = styled.div`\n  span {\n    margin-block: 0.5rem;\n  }\n`;\n\nexport const TitleWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n\n  div {\n    font-weight: 400;\n    margin-left: 0.5rem;\n    color: var(--darkColor);\n  }\n`;\n","import React, { useEffect, useState, useRef, useContext } from \"react\";\n\nimport { useParams } from \"react-router\";\nimport {\n  Wrapper,\n  Content,\n  Header as PostHeader,\n  Description,\n  MiniPic,\n  Block,\n  CommentsWrapper,\n  SkeletonWrapper,\n  DateWrapper,\n  TitleWrapper,\n} from \"./Post.styles\";\nimport Header from \"../Header\";\nimport {\n  getLikedPhoto,\n  getPhotoByPhotoId,\n  getProfilePictureByName,\n  getUserByUserId,\n} from \"../../services/firebase\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { Link } from \"react-router-dom\";\nimport DashPostActions from \"../DashPost/actions\";\nimport { formatDistance } from \"date-fns\";\nimport AddComment from \"../DashPost/add-comment\";\nimport UserContext from \"../../Context/user\";\nconst Post = () => {\n  const { photoId } = useParams();\n  const [photo, setPhoto] = useState(null);\n  const [creator, setCreator] = useState(null);\n  const [commentPhotos, setCommentPhotos] = useState([]);\n  const [postComments, setPostComments] = useState([]);\n  const commentInput = useRef(null);\n  const handleFocus = () => commentInput.current.focus();\n\n  const { user } = useContext(UserContext);\n\n  useEffect(() => {\n    async function getPhotoPost() {\n      const [photoResult] = await getPhotoByPhotoId(photoId);\n      setPostComments(photoResult.comments);\n\n      const [userResult] = await getUserByUserId(photoResult.userId);\n      setCreator(userResult);\n\n      const commentPhotosArray = await Promise.all(\n        photoResult.comments.map(async (comment) => {\n          return await getProfilePictureByName(comment.displayName);\n        })\n      );\n      setCommentPhotos(commentPhotosArray);\n      setPhoto(getLikedPhoto(photoResult, user.uid));\n    }\n    if (photoId) getPhotoPost();\n  }, [photoId, user.uid]);\n\n  return (\n    <>\n      <Header />\n      <Wrapper>\n        {photo ? (\n          <img src={photo.imageSrc} alt=\"\" />\n        ) : (\n          <Skeleton width={600} height={600} />\n        )}\n        <Content className=\"content\">\n          <PostHeader>\n            {creator ? (\n              <Link to={`/p/${creator.username}`}>\n                <MiniPic src={creator.profilePic} alt=\"\" />\n              </Link>\n            ) : (\n              <Skeleton width={44} height={44} circle={true} />\n            )}\n            <h1>\n              {creator && photo ? (\n                <TitleWrapper>\n                  <span>{creator.username}</span>\n                  <div>{photo.caption}</div>\n                </TitleWrapper>\n              ) : (\n                <Skeleton width={150} height={17} />\n              )}\n            </h1>\n          </PostHeader>\n          <Description>\n            <Block>\n              {photo && creator ? (\n                postComments.map((comment, i) => {\n                  return (\n                    <CommentsWrapper key={i}>\n                      <Link to={`/p/${comment.displayName}`}>\n                        {commentPhotos ? (\n                          <MiniPic src={commentPhotos[i]} alt=\"\"></MiniPic>\n                        ) : (\n                          <Skeleton width={44} height={44} />\n                        )}\n                        <h1>{comment.displayName}</h1>\n                      </Link>\n                      <div>{comment.comment}</div>\n                    </CommentsWrapper>\n                  );\n                })\n              ) : (\n                <SkeletonWrapper>\n                  <Skeleton width={410} height={44} count={5} />\n                </SkeletonWrapper>\n              )}\n            </Block>\n          </Description>\n\n          {photo ? (\n            <DashPostActions\n              totalLikes={photo.likes.length}\n              docId={photo.docId}\n              likedPhoto={photo.userLikedPhoto}\n              handleFocus={handleFocus}\n            />\n          ) : null}\n          {photo ? (\n            <DateWrapper>\n              {formatDistance(photo.dateCreated, new Date()).toUpperCase()} AGO\n            </DateWrapper>\n          ) : (\n            <Skeleton />\n          )}\n          {photo ? (\n            <AddComment\n              docId={photo.docId}\n              comments={postComments}\n              commentInput={commentInput}\n              setComments={setPostComments}\n            />\n          ) : null}\n        </Content>\n      </Wrapper>\n    </>\n  );\n};\n\nexport default Post;\n"],"sourceRoot":""}