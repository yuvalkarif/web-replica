(this["webpackJsonpweb-replica"]=this["webpackJsonpweb-replica"]||[]).push([[10],{55:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"l",(function(){return j})),n.d(t,"k",(function(){return x})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return I})),n.d(t,"f",(function(){return S})),n.d(t,"b",(function(){return U})),n.d(t,"j",(function(){return E}));var r=n(29),a=n(51),c=n.n(a),u=n(16),o=n(52),i=n(21);function s(e){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.firestore().collection("users").where("username","==",t).get();case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return e.data().length>0})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.firestore().collection("users").where("userId","==",t).get();case 2:return n=e.sent,r=n.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{docId:e.id})})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.firestore().collection("users").where("username","==",t).get();case 2:return n=e.sent,r=n.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{docId:e.id})})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.firestore().collection("users").where("userId","!=",t).limit(10).get();case 2:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{docId:e.id})})).filter((function(e){return e.userId&&!n.includes(e.userId)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,n){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.b.firestore().collection("users").doc(t).update({following:r?i.a.arrayRemove(n):i.a.arrayUnion(n)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.b.firestore().collection("users").doc(t).update({followers:r?i.a.arrayRemove(n):i.a.arrayUnion(n)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(c.a.mark((function e(t,n){var r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.firestore().collection("photos").where("userId","in",n).get();case 2:return r=e.sent,a=r.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{docId:e.id})})),e.next=6,Promise.all(a.map(function(){var e=Object(o.a)(c.a.mark((function e(n){var r,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,n.likes.includes(t)&&(r=!0),e.next=4,p(n.userId);case 4:return a=e.sent,o=a[0].username,e.abrupt("return",Object(u.a)(Object(u.a)({username:o},n),{},{userLikedPhoto:r}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.firestore().collection("photos").where("userId","==",t).get();case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.firestore().collection("photos").where("photoId","==",t).get();case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{docId:e.id})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(c.a.mark((function e(t){var n,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:return n=e.sent,a=Object(r.a)(n,1),u=a[0],console.log("result",u),e.abrupt("return",null===u||void 0===u?void 0:u.profilePic);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){var n=!1;return e.likes.includes(t)&&(n=!0),Object(u.a)(Object(u.a)({},e),{},{userLikedPhoto:n})}function E(e){return L.apply(this,arguments)}function L(){return(L=Object(o.a)(c.a.mark((function e(t){var n,a,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.firestore().collection("users").where("userId","==",t).get();case 2:return n=e.sent,a=n.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{docId:e.id})})),o=Object(r.a)(a,1),s=o[0],e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},57:function(e,t,n){"use strict";t.a=n.p+"static/media/Karifgram.33790cf2.png"},79:function(e,t,n){"use strict";n.r(t);var r,a,c,u,o,i,s=n(51),l=n.n(s),p=n(52),d=n(29),f=n(1),b=n(53),h=n(54),m=h.a.div(r||(r=Object(b.a)(["\n  display: flex;\n  margin: 0 auto;\n  width: 248px;\n  border: 1.5px solid var(--lightColor);\n  padding: 0 2.75rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: white;\n  margin-top: 8rem;\n  padding-bottom: 1.5rem;\n"]))),j=h.a.img(a||(a=Object(b.a)(["\n  width: 156px;\n  height: auto;\n  margin: 2rem 0;\n"]))),g=h.a.form(c||(c=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-family: inherit;\n  width: 100%;\n  input {\n    color: var(--darkColor);\n    background-color: var(--bgColor);\n    border: 1.5px solid var(--lightColor);\n    border-radius: 3px;\n    padding: 0.35rem 0;\n    margin-bottom: 0.5rem;\n    width: 100%;\n    padding-inline: 0.4rem;\n  }\n"]))),x=h.a.button(u||(u=Object(b.a)(["\n  background-color: var(--blueColor);\n  color: var(--bgColor);\n  border: none;\n  border-radius: 4px;\n  padding: 0.35rem 0;\n  font-family: inherit;\n  font-weight: 700;\n  width: 106.5%;\n  font-size: 0.9rem;\n  opacity: ",";\n  cursor: ",";\n  margin-top: 0.35rem;\n"])),(function(e){return e.disabled?"50%":"100%"}),(function(e){return e.disabled?"normal":"pointer"})),O=h.a.div(o||(o=Object(b.a)(["\n  font-size: 0.9rem;\n  font-weight: 400;\n  margin: 0 auto;\n  width: 248px;\n  border: 1.5px solid var(--lightColor);\n  padding: 1rem 2.75rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  background-color: white;\n  margin-top: 2rem;\n  a {\n    text-decoration: none;\n    color: var(--blueColor);\n    margin-left: 0.35rem;\n    font: inherit;\n    font-weight: 500;\n  }\n"]))),v=h.a.div(i||(i=Object(b.a)(["\n  color: red;\n  font-size: 0.75rem;\n  text-align: center;\n  margin-bottom: 1.5rem;\n"]))),w=n(57),y=n(5),k=n(18),I=n(13),C=n(30),S=n(55),P=n(4);t.default=function(){var e=Object(y.g)(),t=Object(f.useContext)(k.a).firebase,n=Object(f.useState)(""),r=Object(d.a)(n,2),a=r[0],c=r[1],u=Object(f.useState)(""),o=Object(d.a)(u,2),i=o[0],s=o[1],b=Object(f.useState)(""),h=Object(d.a)(b,2),U=h[0],E=h[1],L=Object(f.useState)(""),A=Object(d.a)(L,2),z=A[0],F=A[1],N=Object(f.useState)(""),D=Object(d.a)(N,2),J=D[0],R=D[1],T=""===z||""===U,q=function(){var n=Object(p.a)(l.a.mark((function n(r){var u;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.next=3,Object(S.a)(a);case 3:if(n.sent.length){n.next=24;break}return n.prev=5,n.next=8,t.auth().createUserWithEmailAndPassword(U,z);case 8:return u=n.sent,n.next=11,u.user.updateProfile({displayName:a});case 11:return n.next=13,t.firestore().collection("users").add({userId:u.user.uid,username:a.toLowerCase(),fullName:i,emailAddress:U.toLowerCase(),following:["bmxcUk2TvAYrbmvPisqMr8stjFG2"],dateCreated:Date.now()});case 13:e.push(I.a),n.next=22;break;case 16:n.prev=16,n.t0=n.catch(5),s(""),F(""),E(""),c("");case 22:n.next=25;break;case 24:R("Username is already taken, please try another.");case 25:case"end":return n.stop()}}),n,null,[[5,16]])})));return function(e){return n.apply(this,arguments)}}();return Object(f.useEffect)((function(){document.title="SignUp - Instagram"})),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(m,{children:[Object(P.jsx)(j,{src:w.a}),J&&Object(P.jsx)(v,{children:J}),Object(P.jsxs)(g,{onSubmit:q,method:"POST",children:[Object(P.jsx)("input",{"aria-label":"Enter full name",type:"text",placeholder:"Full Name",onChange:function(e){var t=e.target;return s(t.value.toString())},value:i}),Object(P.jsx)("input",{"aria-label":"Enter Username",type:"text",placeholder:"Username",onChange:function(e){var t=e.target;return c(t.value.toString())},value:a}),Object(P.jsx)("input",{"aria-label":"Enter your email address",type:"text",placeholder:"Email address",onChange:function(e){var t=e.target;return E(t.value.toString())},value:U}),Object(P.jsx)("input",{"aria-label":"Enter your password",type:"password",placeholder:"Password",onChange:function(e){var t=e.target;return F(t.value)},value:z}),Object(P.jsx)(x,{disabled:T,type:"submit",children:"Sign Up"})]})]}),Object(P.jsxs)(O,{children:[Object(P.jsx)("div",{children:"Have an Account?"})," ",Object(P.jsx)(C.b,{to:I.b,children:"Log In"})]})]})}}}]);
//# sourceMappingURL=10.36e46a28.chunk.js.map